// Initialize the spinner
const wheel = new Winwheel({
  numSegments: 6, // Number of segments
  segments: [
    { fillStyle: '#eae56f', text: 'Prize 1' },
    { fillStyle: '#89f26e', text: 'Prize 2' },
    { fillStyle: '#7de6ef', text: 'Prize 3' },
    { fillStyle: '#e7706f', text: 'Prize 4' },
    { fillStyle: '#eae56f', text: 'Try Again' },
    { fillStyle: '#89f26e', text: 'Prize 5' }
  ],
  animation: {
    type: 'spinToStop',
    duration: 5,
    spins: 8,
    callbackFinished: displayWinner
  },
  textFontSize: 18
});

// Spin button functionality
document.getElementById('spin-btn').addEventListener('click', function () {
  wheel.startAnimation();
});

// Display the winner
function displayWinner(indicatedSegment) {
  if (indicatedSegment.text !== 'Try Again') {
    const uniqueCode = `WIN-${Date.now()}-${Math.floor(Math.random() * 1000)}`;
    document.getElementById('unique-code').textContent = uniqueCode;
    document.getElementById('winner').style.display = 'block';
  } else {
    alert('Better luck next time!');
  }
}
